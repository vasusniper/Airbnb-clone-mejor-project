<%layout("/layouts/template")%>
<body>
  <!-- Main Row Container -->
  <div class="row">
    <div class="col-6 offset-3">
      <!-- Login Heading -->
      <h3>Login to Wanderlust</h3>
      
      <!-- Login Form -->
      <form method="POST" action="/login" class="needs-validation" novalidate>
        
        <!-- Username Input Field -->
        <div class="mb-3">
          <label for="username" class="form-label">Username</label>
          <input type="text" class="form-control" placeholder="Username" name="username" required>
          <!-- Validation Messages -->
          <div class="valid-feedback">Looks good!</div>
          <div class="invalid-feedback">Please enter a username.</div>
        </div>
        
        <!-- Password Input Field -->
        <div class="mb-3">
          <label for="password" class="form-label">Password</label>
          <input type="password" class="form-control" placeholder="Password" name="password" required>
          <!-- Validation Message -->
          <div class="invalid-feedback">Please enter a password.</div>
        </div>
        
        <!-- Submit Button -->
        <button class="btn btn-success">Login</button>
      </form>
    </div>
  </div>

  <!-- JavaScript Validation -->
  <script>
    // Bootstrap Form Validation
    (() => {
      const forms = document.querySelectorAll('.needs-validation'); // Select all forms with validation class

      // Loop over forms and prevent submission if invalid
      Array.from(forms).forEach((form) => {
        form.addEventListener('submit', (event) => {
          if (!form.checkValidity()) {
            event.preventDefault(); // Prevent form submission
            event.stopPropagation(); // Stop further event propagation
          }

          form.classList.add('was-validated'); // Add Bootstrap validation styles
        });
      });
    })();
  </script>
</body>
